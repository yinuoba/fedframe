/*! upgF2E - v0.1.0 
* https://www.yrz.cn/
* Copyright (c) 2014 Front-End development team of UPG Cloud Financing Department; Licensed MIT */
define("search/search.css",[],function(){seajs.importStyle(".y_fl{float:left}.y_fr{float:right}.searchInput{width:129px;height:24px;border:#ccc solid 1px;line-height:24px}.searchBox{border:#e6e6e6 solid 1px;position:relative;padding:10px}.searchBox .searchName{height:26px;padding:4px 0;overflow:hidden}.searchBox .searchName span{line-height:26px}.searchBox .searchName ul li{float:left;line-height:34px;padding:0 15px 0 25px;background:url(/public/image/search/titleicn_1.png) no-repeat 15px 11px;font-weight:700}.searchBox .searchName ul li.current{background:#f5f5f5 url(/public/image/search/titleicn.png) no-repeat 15px 11px;color:#6b4a07}.searchBox .checkedList{margin:5px 0;overflow:hidden;border-top:#dbdbdb dashed 1px;padding:18px 0 0}.searchBox .checkedList .checkedName{height:24px;position:relative;display:block}.searchBox .checkedList .checkedName span{display:block;height:24px;line-height:22px;text-align:center}.searchBox .checkedList .checkedOk{float:left;zoom:1}.searchBox .checkedList .checkedOk ul{overflow:hidden}.searchBox .checkedList .checkedOk ul li{height:20px;line-height:20px;background:#eee;*min-width:50px!important;*max-width:400px!important;text-align:center;border:#ddd solid 1px;float:left;padding:0 5px;margin:0 10px 5px 0;display:inline;overflow:hidden}.searchBox .checkedList .checkedOk ul li:hover{border:#ff8500 solid 1px}.searchBox .checkedList .checkedOk ul li span{float:left;*max-width:360px!important}.searchBox .checkedList .checkedOk ul li .close{width:12px;height:12px;background-position:-224px -192px;float:left;margin:5px 0 0 5px;cursor:pointer}.searchBox .checkedList .checkedOk ul li:hover .close{background-position:-243px -192px}.searchBox .checkedList .refresh{height:22px;line-height:22px;padding:0 11px 0 28px;width:50px;background-position:-99px -5px;display:block}.searchBox .options{overflow:hidden;clear:both}.searchBox .options .optionsTitle{float:left;line-height:26px}.searchBox .options .optionsList{width:70%;height:26px;line-height:26px;overflow:hidden;float:left;position:relative}.searchBox .options .optionsList ul{overflow:hidden;display:inline}.searchBox .options .optionsList ul li{float:left;margin:0 5px 5px 0;display:inline;position:relative}.searchBox .options .optionsList ul li a{display:inline-block;*min-width:50px!important;position:relative;padding:0 5px}.searchBox .options .optionsList ul.shoulong li{width:auto;height:26px}.searchBox .options .optionsList ul.ulExpansion li{width:120px;overflow:hidden;margin:0 5px 5px 0}.searchBox .options .optionsList ul.ulExpansion li a{display:block;padding:0 10px}.searchBox .options .optionsList ul li a.current{color:#e57d00}.searchBox .options .optionsList ul li a:hover{color:#920000}.searchBox .options .optionsList ul li a.as-selected i{visibility:visible}.searchBox .options .optionsList ul.shoulong li a.as-selected{color:#ff8500}.searchBox .options .optionsList ul.shoulong li a.as-selected i{background:0}.searchBox .options .optionsList ul.ulExpansion li a.as-selected{width:110px;color:#ff8500;padding:0 5px 0 10px}.searchBox .options .closeDown{width:26px;height:24px;line-height:24px;background-position:-710px -299px;cursor:pointer;float:right;padding:0 20px 0 0}.searchBox .options .closeDown.closeUp{background-position:-644px -300px}.goMore{width:100px;height:17px;bottom:-23px;background:#fff;border:#e6e6e6 solid 1px;border-top:0;position:relative;left:45%}.goMore span.down{display:block;text-align:center;color:#a0a0a0;cursor:pointer;background:url(/public/image/search/sprite_global_v6.png) no-repeat 80px -1602px}.goMore span.down.up{background-position:80px -1625px}.searchBox .checkedList .refresh,.searchBox .options .closeDown{background-image:url(/public/image/search/bgsAll.png)}.searchBox .checkedList .checkedOk ul li .close{background-image:url(/public/image/search/iconBg.png)}")}),define("search/search.css",[],function(){seajs.importStyle(".y_fl{float:left}.y_fr{float:right}.searchInput{width:129px;height:24px;border:#ccc solid 1px;line-height:24px}.searchBox{border:#e6e6e6 solid 1px;position:relative;padding:10px}.searchBox .searchName{height:26px;padding:4px 0;overflow:hidden}.searchBox .searchName span{line-height:26px}.searchBox .searchName ul li{float:left;line-height:34px;padding:0 15px 0 25px;background:url(/public/image/search/titleicn_1.png) no-repeat 15px 11px;font-weight:700}.searchBox .searchName ul li.current{background:#f5f5f5 url(/public/image/search/titleicn.png) no-repeat 15px 11px;color:#6b4a07}.searchBox .checkedList{margin:5px 0;overflow:hidden;border-top:#dbdbdb dashed 1px;padding:18px 0 0}.searchBox .checkedList .checkedName{height:24px;position:relative;display:block}.searchBox .checkedList .checkedName span{display:block;height:24px;line-height:22px;text-align:center}.searchBox .checkedList .checkedOk{float:left;zoom:1}.searchBox .checkedList .checkedOk ul{overflow:hidden}.searchBox .checkedList .checkedOk ul li{height:20px;line-height:20px;background:#eee;*min-width:50px!important;*max-width:400px!important;text-align:center;border:#ddd solid 1px;float:left;padding:0 5px;margin:0 10px 5px 0;display:inline;overflow:hidden}.searchBox .checkedList .checkedOk ul li:hover{border:#ff8500 solid 1px}.searchBox .checkedList .checkedOk ul li span{float:left;*max-width:360px!important}.searchBox .checkedList .checkedOk ul li .close{width:12px;height:12px;background-position:-224px -192px;float:left;margin:5px 0 0 5px;cursor:pointer}.searchBox .checkedList .checkedOk ul li:hover .close{background-position:-243px -192px}.searchBox .checkedList .refresh{height:22px;line-height:22px;padding:0 11px 0 28px;width:50px;background-position:-99px -5px;display:block}.searchBox .options{overflow:hidden;clear:both}.searchBox .options .optionsTitle{float:left;line-height:26px}.searchBox .options .optionsList{width:70%;height:26px;line-height:26px;overflow:hidden;float:left;position:relative}.searchBox .options .optionsList ul{overflow:hidden;display:inline}.searchBox .options .optionsList ul li{float:left;margin:0 5px 5px 0;display:inline;position:relative}.searchBox .options .optionsList ul li a{display:inline-block;*min-width:50px!important;position:relative;padding:0 5px}.searchBox .options .optionsList ul.shoulong li{width:auto;height:26px}.searchBox .options .optionsList ul.ulExpansion li{width:120px;overflow:hidden;margin:0 5px 5px 0}.searchBox .options .optionsList ul.ulExpansion li a{display:block;padding:0 10px}.searchBox .options .optionsList ul li a.current{color:#e57d00}.searchBox .options .optionsList ul li a:hover{color:#920000}.searchBox .options .optionsList ul li a.as-selected i{visibility:visible}.searchBox .options .optionsList ul.shoulong li a.as-selected{color:#ff8500}.searchBox .options .optionsList ul.shoulong li a.as-selected i{background:0}.searchBox .options .optionsList ul.ulExpansion li a.as-selected{width:110px;color:#ff8500;padding:0 5px 0 10px}.searchBox .options .closeDown{width:26px;height:24px;line-height:24px;background-position:-710px -299px;cursor:pointer;float:right;padding:0 20px 0 0}.searchBox .options .closeDown.closeUp{background-position:-644px -300px}.goMore{width:100px;height:17px;bottom:-23px;background:#fff;border:#e6e6e6 solid 1px;border-top:0;position:relative;left:45%}.goMore span.down{display:block;text-align:center;color:#a0a0a0;cursor:pointer;background:url(/public/image/search/sprite_global_v6.png) no-repeat 80px -1602px}.goMore span.down.up{background-position:80px -1625px}.searchBox .checkedList .refresh,.searchBox .options .closeDown{background-image:url(/public/image/search/bgsAll.png)}.searchBox .checkedList .checkedOk ul li .close{background-image:url(/public/image/search/iconBg.png)}")}),define("search/search",["textlength/textlength"],function(a,b){var c=a("textlength/textlength"),d=function(a){var b=this;b.$searchBox=$($(a.searchBox).length?a.searchBox:"div#searchBox"),b.$complexSearchCustom=$($(a.complexSearchCustom).length?a.complexSearchCustom:'div[id^="complexSearch-custom-"]'),b.$complexSearchSelected=$($(a.complexSearchSelected).length?a.complexSearchSelected:"#complexSearch-selected"),b.$checkedUl=$(a.checkedUl).length?$(a.checkedUl):$(".checkedOk>ul",b.$complexSearchSelected),b.$complexSearchMore=$($(a.complexSearchMore).length?a.complexSearchMore:"#complexSearch-more"),b.$resetSelect=$($(a.resetSelect).length?a.resetSelect:'a[complexsearchreset="selected"]'),b.$form=$(a.form).length?$(a.form):b.$complexSearchCustom.closest("form"),b.isShowExpend=a.isShowExpend===!1?!1:!0,b.showListNum=a.showListNum||3,b.selectedLength=a.selectedLength||10,b.selectedCallback=a.selectedCallback||function(){},b.resetOptions=a.resetOptions||{},b.init()};d.prototype={constructor:d,init:function(){var a=this;a.$complexSearchCustom.each(function(){var b,c=$(this),d="false"===c.attr("multi")||"0"===c.attr("multi")?!1:!0,e="false"===c.attr("shownolimit")||"0"===c.attr("shownolimit")?!1:!0,f=c.attr("nolimitlabel")||"不限",g=c.attr("inputname"),h=$("div.optionsTitle",c),i=h.attr("optionstitle"),j=$("div.optionsList",c),k=$("ul>li>a",j);e&&(b=a.createNoLimitLi({inputName:g,optionsList:j,noLimitLabel:f}),$(".optionsList>ul",c).prepend(b));var l=[],m=[];j.data("selectedLabelArr",l),j.data("selectedValArr",m),$.each(k,function(){var c=$(this),e=c.attr("selected");e&&a.selected(c,{selectedLabelArr:l,selectedValArr:m,multi:d,inputName:g,optionsList:j,optionsTitle:i,noLimitLi:b})}),k.click(function(){a.selected($(this),{selectedLabelArr:l,selectedValArr:m,multi:d,inputName:g,optionsList:j,optionsTitle:i,noLimitLi:b,clickSubmit:!0})}),a.showExpend({optionsList:j,complexSearchCustom:c})}),a.$form.submit(),a.showMore(),a.$resetSelect&&a.$resetSelect.length&&a.$resetSelect.click(function(){a.resetAll(a.resetOptions)})},createSelectedLi:function(a){var b=this,d=b.resetOptions.noResetNameArr||[],e=a.inputName,f=(a.label,a.optionsList),g=a.optionsTitle,h=$("<li/>").attr("inputname",e),i=$("<span/>").attr({title:g,textlength:b.selectedLength});if(-1===$.inArray(e,d))var j=$("<span/>").addClass("close");var k=f.data("selectedLabelArr");if(k.length){var l;l=g?g+"："+k.join("，"):k.join("，"),i.html(l)}return c.init(i),-1===$.inArray(e,d)?(j.click(function(){b.reset({inputName:e,optionsList:f})}),h.append(i).append(j)):h.append(i),h},createInputs:function(a){var b=this,c=a.multi,d=c?a.inputName+"[]":a.inputName,e=(a.customId,a.optionsList),f=e.data("selectedValArr");f.length&&($('input[name="'+d+'"]',b.$form).remove(),$.each(f,function(){var a=this;b.$form.prepend($('<input type="hidden" name="'+d+'" value="'+a+'"/>'))}))},createNoLimitLi:function(a){_this=this;var b=a.inputName,c=a.optionsList,d=a.noLimitLabel,e=$("<li/>"),f=$('<a href="javascript:;" inputname="'+b+'" nolimit="1" />').addClass("current");return f.html(d).click(function(){$(this).addClass("current"),_this.reset({inputName:b,optionsList:c})}),e.append(f),e},removeInputByName:function(a){var b=this;$('input[name^="'+a+'"]',b.$form).remove()},showExpend:function(a){var b=this,c=a.optionsList,d=a.complexSearchCustom;if(b.isShowExpend){var e=$(".closeShow",d),f=$(".closeUp",d),g=$(".closeDown",d),h=c.height(),i=b.$searchBox.is(":visible");i||b.$searchBox.show();var j=$("ul>li:first",c).offset().top,k=$("ul>li:last",c).offset().top;i||b.$searchBox.hide(),j!=k&&(e.show(),g.click(function(a){var b=$(a.target);return b.hasClass("closeShow")||b.parent(".closeShow").length?(c.css({height:"auto"}),e.hide(),f.show()):(c.css({height:h+"px"}),e.show(),f.hide()),!1}))}},reset:function(a){_this=this;var b=a.inputName,c=a.optionsList,d=a.noSubmit;_this.removeInputByName(b),_this.$checkedUl.find('li[inputname="'+b+'"]').remove(),c.find('a[nolimit="1"][inputname="'+b+'"]').addClass("current"),c.find("a.as-selected").removeClass("as-selected"),c.data("selectedLabelArr").length=0,c.data("selectedValArr").length=0,d||_this.$form.submit()},resetAll:function(a){var b=this,c=a.noResetNameArr||[];b.$resetSelect.length&&($optionsListArr=$("div.optionsList",b.$complexSearchCustom),$optionsListArr.each(function(){var a=$(this),d=a.attr("inputname");-1===$.inArray(d,c)&&b.reset({inputName:d,optionsList:a,noSubmit:1})}),b.$form.submit())},showMore:function(){var a=this;if(a.$complexSearchMore.length&&a.$complexSearchCustom.length>3){a.$complexSearchMore.show();var b=$('span.down[more="1"]',a.$searchBox),c=$('span.down[hide="1"]',a.$searchBox),d=$("span.down",a.$searchBox),e=a.showListNum-1;d.click(function(d){var f=$(d.target);f.hasClass("up")?(b.show(),c.hide(),a.$complexSearchCustom.filter(":lt("+e+")").show(),a.$complexSearchCustom.filter(":gt("+e+")").hide()):(b.hide(),c.show(),a.$complexSearchCustom.show())})}},saveData:function(a){var b=a.selectedLabelArr,c=a.selectedValArr,d=a.label,e=a.customId,f=a.multi;return-1!==b.indexOf(d)?!1:(f||(b.length=0),b.push(d),-1!==c.indexOf(e)?!1:(f||(c.length=0),void c.push(e)))},selected:function(a,b){var c=this,d=b.selectedLabelArr,e=b.selectedValArr,f=b.multi,g=b.clickSubmit,h=b.inputName,i=b.optionsList,j=b.optionsTitle,k=b.noLimitLi,l=a.attr("customid"),m=a.html();c.saveData({selectedLabelArr:d,selectedValArr:e,label:m,customId:l,multi:f}),a.addClass("as-selected"),f||a.parent().siblings().find("a").removeClass("as-selected"),k&&k.length&&k.find('a[nolimit="1"]').removeClass("current"),c.createInputs({inputName:h,customId:l,optionsList:i,multi:f});var n=c.createSelectedLi({inputName:h,label:m,optionsList:i,optionsTitle:j}),o=c.$checkedUl.find('li[inputname="'+h+'"]');o.length?o.replaceWith(n):c.$checkedUl.append(n),c.selectedCallback.call(a,c,b),g&&c.$form.submit()}},b.init=d});